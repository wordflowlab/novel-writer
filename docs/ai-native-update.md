# AI 原生交互升级说明

## 版本：v0.5.0

## 核心改进

将高级功能从命令行模式转变为 AI 原生交互，实现"引导用户 → AI 引导选择 → 智能生成"的流程。

## 主要更新

### 1. AI 接口层 (`src/ai-interface.ts`)
- 封装所有高级功能为 AI 友好的接口
- 支持自然语言参数解析
- 提供引导式问答框架
- 智能推理和上下文理解

### 2. 智能斜杠命令

#### `/constitution` - 写作方法智能助手
- 通过友好对话了解用户需求
- 智能分析并推荐最适合的方法
- 支持混合方法设计
- 自动应用到项目

#### `/specify` - 增强的故事创建
- 自动根据故事特征选择方法
- 加载对应方法的模板
- 更新项目配置

#### `/plan` - 智能章节规划
- 读取项目使用的方法
- 应用方法特定的结构要求
- 支持混合方法的多层级规划

### 3. 简化的 CLI
- 移除复杂的命令行参数
- 保留基础命令：`init`、`check`、`info`
- 高级功能通过 AI 交互实现

## 使用方式对比

### 之前（命令行模式）
```bash
# 用户需要记住命令和参数
novel recommend --genre 奇幻 --length 200000 --complexity 复杂
novel convert seven-point --from three-act
novel hybrid create --primary hero-journey --secondary story-circle
```

### 现在（AI 原生交互）
```
用户：/constitution
AI：你好！我来帮你选择最适合的写作方法。先聊聊你的故事设想吧...
用户：我想写一个奇幻冒险故事
AI：[通过对话了解需求，智能推荐，自动应用]
```

## 技术亮点

### 1. 自然语言理解
- 从描述中智能提取参数
- 推理隐含信息
- 容错性强

### 2. 引导式交互
- 友好的对话流程
- 渐进式信息收集
- 智能跳过不必要的问题

### 3. 上下文感知
- 记住之前的选择
- 理解项目进度
- 提供阶段性建议

### 4. 无缝集成
- AI 直接调用功能类
- 自动更新项目配置
- 实时应用到创作流程

## 核心类保留

虽然简化了 CLI，但核心功能类都保留了：
- `MethodAdvisor` - 方法推荐引擎
- `MethodConverter` - 转换映射工具
- `HybridMethodManager` - 混合方法管理
- `AIInterface` - AI 交互接口（新增）

## 优势总结

1. **更低的使用门槛**
   - 无需记住命令
   - 自然语言交互
   - AI 引导全程

2. **更智能的决策**
   - 自动分析特征
   - 智能推荐方案
   - 上下文理解

3. **更好的用户体验**
   - 友好的对话
   - 清晰的解释
   - 持续的支持

4. **更强的灵活性**
   - AI 可以灵活理解需求
   - 处理模糊输入
   - 适应不同表达

## 未来展望

这种 AI 原生的设计理念可以扩展到更多功能：
- 智能剧情建议
- 自动冲突设计
- 角色关系分析
- 写作风格调整

通过充分利用 AI 的交互能力，我们让创作工具真正成为智能助手，而不仅仅是命令执行器。